//problem No. 14500, 테트로미노
#include <iostream>
using namespace std;

int m[520][520], N, M, fs = 10;

int dx[19][4] = {
	{ 0, 1, 2, 3 },
	{ 0, 0, 0, 0 },

	{ 0, 1, 0, 1 },

	{ 0, 0, 0, 1 },
	{ 2, 1, 0, 0 },
	{ 1, 1, 1, 0 },
	{ 0, 1, 2, 2 },

	{ 1, 1, 1, 0 },
	{ 2, 1, 0, 0 },
	{ 0, 0, 0, 1 },
	{ 0, 1, 2, 2 },

	{ 0, 0, 1, 1 },
	{ 2, 1, 1, 0 },

	{ 1, 1, 0, 0 },
	{ 2, 1, 1, 0 },

	{ 0, 1, 2, 1 },
	{ 1, 1, 1, 0 },
	{ 0, 1, 2 ,1 },
	{ 0, 0, 0, 1 },
};
int dy[19][4] = {
	{ 0, 0, 0, 0 },
	{ 0, 1, 2, 3 },

	{ 0, 0, 1, 1 },

	{ 0, 1, 2, 2 },
	{ 0, 0, 0, 1 },
	{ 2, 1, 0, 0 },
	{ 1, 1, 1, 0 },

	{ 0, 1, 2, 2 },
	{ 1, 1, 1, 0 },
	{ 2, 1, 0, 0 },
	{ 0, 0, 0, 1 },

	{ 0, 1, 1, 2 },
	{ 0, 0, 1, 1 },

	{ 0, 1, 1, 2 },
	{ 1, 1, 0, 0 },

	{ 0, 0, 0, 1 },
	{ 0, 1, 2, 1 },
	{ 1, 1, 1, 0 },
	{ 0, 1, 2, 1 },
};

int main() {
	cin >> N >> M;
	for (int i = fs; i < N + fs; i++)
		for (int j = fs; j < M + fs; j++)
			cin >> m[i][j];

	int ret = 0;
	for (int i = fs; i < N + fs; i++)
		for (int j = fs; j < M + fs; j++) {
			for (int s = 0; s < 19; s++) {
				int sum = 0;
				for (int si = 0; si < 4; si++) {
					sum += m[i + dx[s][si]][j + dy[s][si]];
				}
				ret = max(ret, sum);
			}
		}

	cout << ret;
}